/*! media-credit media-credit-legacy-autocomplete.js 2019-05-19 6:51:01 PM */

jQuery(function(r){"use strict";var o=mundschenk.mediaCredit||{};o.autoCompleteLegacy=function(i,n){function d(t){n.attr("value",""),n.attr("data-author-display",t),i.attr("value",t)}return i.autocomplete({autoFocus:!0,minLength:2,source:o.names||(o.names=_.map(o.id,function(t,a){return{id:a,value:t,label:t}})),select:function(t,a){return n.attr("value",a.item.id),n.attr("data-author-display",a.item.value),i.attr("value",a.item.value),!1},response:function(t,a){var e;0===a.content.length&&(e=r(this).val())!==n.attr("data-display-author")&&d(e)},open:function(){return r(this).autocomplete("widget").css("z-index",2e6),!1}}).click(function(){this.select()}).change(function(t){var a=i.val(),e=n.attr("data-author-id");o.options.noDefaultCredit&&""===a&&""===n.val()?(n.val(e),n.attr("data-author-display",o.id[e]),i.val("").attr("placeholder",n.attr("data-author-display")),t.stopImmediatePropagation(),t.preventDefault()):a!==n.attr("data-author-display")&&(d(a),t.stopImmediatePropagation(),t.preventDefault())})},o.data=r(".media-credit-hidden").data(),o.input=r("#attachments\\["+o.data.postId+"\\]\\[media-credit\\]"),o.hidden=r("#attachments\\["+o.data.postId+"\\]\\[media-credit-hidden\\]"),o.autoCompleteLegacy(o.input,o.hidden)});